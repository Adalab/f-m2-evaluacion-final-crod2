"use strict";const searchContainer=document.querySelector(".search__container"),title=document.querySelector(".search__container--title"),input=document.querySelector(".search__container--input"),button=document.querySelector(".search__container--button"),resultsContainer=document.querySelector(".results__container"),list=document.querySelector(".results__container--list"),url="http://api.tvmaze.com/search/shows?q=";let favShows=[];const favList=document.querySelector(".favs__container--list");function getShows(){const e=input.value;list.innerHTML="",fetch(`${url}${e}`).then(e=>e.json()).then(e=>{for(const t of e){const e=document.createElement("li");e.classList.add("results__item"),e.addEventListener("click",changeColor);const n=document.createElement("h2");n.classList.add("item__subtitle");const a=document.createTextNode(t.show.name),c=document.createElement("img");c.classList.add("item__img"),null===t.show.image?c.src="https://via.placeholder.com/210x295/":c.src=t.show.image.medium,n.appendChild(a),e.appendChild(n),e.appendChild(c),list.appendChild(e)}})}function changeColor(){event.currentTarget.classList.contains("favourites")?event.currentTarget.classList.remove("favourites"):event.currentTarget.classList.add("favourites"),favs(event.currentTarget)}function favs(e){const t=e.querySelector("h2").innerHTML,n=e.querySelector("img").src;favShows.push({name:t,image:n}),favList.innerHTML="";for(const e of favShows){const t=document.createElement("li"),n=document.createElement("h4"),a=document.createTextNode(e.name),c=document.createElement("img");c.src=e.image,n.appendChild(a),t.appendChild(n),t.appendChild(c),favList.appendChild(t)}savedData()}const savedData=()=>{localStorage.setItem("saved__data",JSON.stringify(favShows))},getData=()=>{if(null!==localStorage.getItem("saved__data")){favShows=JSON.parse(localStorage.getItem("saved__data"));for(const e of favShows){const t=document.createElement("li"),n=document.createElement("h4"),a=document.createTextNode(e.name),c=document.createElement("img");c.src=e.image,n.appendChild(a),t.appendChild(n),t.appendChild(c),favList.appendChild(t)}}};getData(),button.addEventListener("click",getShows);