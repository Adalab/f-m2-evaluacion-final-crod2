"use strict";const searchContainer=document.querySelector(".container"),title=document.querySelector(".search__container--title"),input=document.querySelector(".search__container--input"),button=document.querySelector(".search__container--button"),resultsContainer=document.querySelector(".results__container"),list=document.querySelector(".results__container--list"),url="http://api.tvmaze.com/search/shows?q=";let favShows=[];const favList=document.querySelector(".favs__container--list");function getShows(){const e=input.value;list.innerHTML="",fetch(`${url}${e}`).then(e=>e.json()).then(e=>{for(const t of e){const e=document.createElement("li");e.classList.add("results__item"),e.addEventListener("click",favs);const a=document.createElement("h2");a.classList.add("item__subtitle");const n=document.createTextNode(t.show.name),c=document.createElement("img");c.classList.add("item__img"),null===t.show.image?c.src="https://via.placeholder.com/210x295/":c.src=t.show.image.medium,a.appendChild(n),e.appendChild(a),e.appendChild(c),list.appendChild(e)}})}function favs(e){e.currentTarget.classList.toggle("favourites");const t=e.currentTarget.querySelector("h2").innerHTML,a=e.currentTarget.querySelector("img").src;e.currentTarget.classList.contains("favourites")?favShows.push({name:t,image:a}):favShows.pop({name:t,image:a}),favList.innerHTML="";for(const e of favShows){const t=document.createElement("li"),a=document.createElement("h3"),n=document.createTextNode(e.name),c=document.createElement("img");c.src=e.image,a.appendChild(n),t.appendChild(a),t.appendChild(c),favList.appendChild(t)}savedData()}const savedData=()=>{localStorage.setItem("saved__data",JSON.stringify(favShows))},getData=()=>{if(null!==localStorage.getItem("saved__data")){favShows=JSON.parse(localStorage.getItem("saved__data"));for(const e of favShows){const t=document.createElement("li"),a=document.createElement("h3"),n=document.createTextNode(e.name),c=document.createElement("img");c.src=e.image,a.appendChild(n),t.appendChild(a),t.appendChild(c),favList.appendChild(t)}}};getData(),button.addEventListener("click",getShows);